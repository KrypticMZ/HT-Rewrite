package me.htrewrite.client.module.modules.exploit;

import me.htrewrite.client.mixin.client.MixinNettyCompressionDecoder;
import me.htrewrite.client.module.Module;
import me.htrewrite.client.module.ModuleType;
import me.htrewrite.exeterimports.mcapi.settings.ValueSetting;

public class AntiChunkBanModule extends Module {
    public static final int normal_packet_size = 2097152;
    public static int max_packet_size = normal_packet_size;

    public static final ValueSetting<Double> max_size = new ValueSetting<>("MaxSize", null, 10000000d, (double)normal_packet_size, 100000000d);

    public AntiChunkBanModule() {
        super("AntiChunkBan", "Prevents chunkbanning.", ModuleType.Exploits, 0);
        addOption(max_size);
        endOption();
    }

    @Override
    public void onEnable() {
        super.onEnable();
        max_packet_size = max_size.getValue().intValue();
    }

    @Override
    public void onDisable() {
        super.onDisable();
        max_packet_size = normal_packet_size;
    }

    @Override
    public String getMeta() { return String.format("%.2f", (max_size.getValue().doubleValue()/1000000d))+" MB"; }
}